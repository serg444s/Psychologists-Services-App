"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[270],{4817:function(e,s,t){t.d(s,{Z:function(){return W}});var n=t(6276),a="LoadMoreBtn_btn__O9JUB",i=t(184),r=function(e){var s=e.onLoadMore;return(0,i.jsx)("button",{className:a,onClick:s,children:"Load More"})},o=t(9439),l=t(2791),c=t(2830),m="PsychologistItem_container__8RPP2",h="PsychologistItem_content__aylN0",p="PsychologistItem_header__a7zUl",u="PsychologistItem_namecontainer__PbG1P",d="PsychologistItem_imgwrap__oNhy2",_="PsychologistItem_icon__W9Jdb",x="PsychologistItem_img__tnSW2",g="PsychologistItem_psychologist__opZ2g",j="PsychologistItem_name__UCBZ2",v="PsychologistItem_details__cNexT",N="PsychologistItem_reviews__GoiOa",f="PsychologistItem_add__ywQBY",y="PsychologistItem_list__yseve",Z="PsychologistItem_item__mi7a7",w="PsychologistItem_span__DzTRg",b="PsychologistItem_text__V34dU",I="PsychologistItem_btn__IgWAl",P={title:"ReviewItem_title__8vBQb",avatar:"ReviewItem_avatar__p2AHs",name:"ReviewItem_name__WYIoO",desc:"ReviewItem_desc__YeRX8"},F=function(e){var s=e.review,t=s.reviewer.toUpperCase().slice(0,1);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:P.title,children:[(0,i.jsx)("div",{className:P.avatar,children:(0,i.jsx)("p",{children:t})}),(0,i.jsxs)("div",{className:P.align,children:[(0,i.jsx)("p",{className:P.name,children:s.reviewer}),(0,i.jsxs)("p",{className:P.name,children:[(0,i.jsx)(c.Z,{iconName:"star",width:16,height:16}),s.rating]})]})]}),(0,i.jsx)("p",{className:P.desc,children:s.comment})]})},S={list:"ReviewsList_list__63+DN",btn:"ReviewsList_btn__5LO4E"},A=t(1413),R=t(7948),C=t.n(R),L={form:"AppointmentForm_form__lWqXL",btnclose:"AppointmentForm_btnclose__PiMp7",wrap:"AppointmentForm_wrap__Aqumr",img:"AppointmentForm_img__zAvSK",name:"AppointmentForm_name__b7lpF",text:"AppointmentForm_text__z7rFx",div:"AppointmentForm_div__5U1wt",input:"AppointmentForm_input__rIyzn",btn:"AppointmentForm_btn__-E20L",psychologists:"AppointmentForm_psychologists__YZnor","psychologists-name":"AppointmentForm_psychologists-name__luRTZ"},k=t(887),M=t(4695),U=t(8007);C().setAppElement("#root");var O=U.Ry().shape({name:U.Z_().required("Name is required"),email:U.Z_().email("Invalid email").required("Email is required"),phone:U.Z_().required("Phone is required").matches(/^\+?[0-9\s-]*$/,"Please enter correct number"),message:U.Z_().optional(),time:U.Z_().required("Time is required")}),q=function(e){var s=e.name,t=e.photo,n=e.modalIsOpen,a=e.closeModal,r=(0,k.cI)({resolver:(0,M.X)(O)}),o=r.register,l=r.handleSubmit,m=r.formState.errors;return(0,i.jsxs)(C(),{isOpen:n,onRequestClose:a,style:{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",padding:"40px",maxWidth:"505px",borderRadius:"30px",position:"relative"}},children:[(0,i.jsxs)("div",{className:L.container,children:[(0,i.jsx)("h2",{className:L.name,children:"Make an appointment with a psychologists"}),(0,i.jsx)("p",{className:L.text,children:"You are on the verge of changing your life for the better. Fill out the short form below to book your personal appointment with a professional psychologist. We guarantee confidentiality and respect for your privacy."}),(0,i.jsx)("button",{onClick:a,className:L.btnclose,children:(0,i.jsx)(c.Z,{iconName:"close",width:26,height:26})})]}),(0,i.jsxs)("div",{className:L.wrap,children:[(0,i.jsx)("img",{src:t,alt:s,className:L.img}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:L.psychologists,children:"Your psychologists"}),(0,i.jsx)("p",{className:L.psychologists-s,children:s})]})]}),(0,i.jsxs)("form",{onSubmit:l((function(e){console.log(e),window.location.reload()})),className:L.form,children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("input",(0,A.Z)((0,A.Z)({},o("name")),{},{placeholder:"Name",className:L.input})),m.name&&(0,i.jsx)("p",{children:m.name.message})]}),(0,i.jsxs)("div",{className:L.div,children:[(0,i.jsx)("input",(0,A.Z)((0,A.Z)({},o("phone")),{},{placeholder:"+380",className:L.input})),m.name&&(0,i.jsx)("p",{children:m.phone.message}),(0,i.jsx)("input",(0,A.Z)((0,A.Z)({},o("time")),{},{placeholder:"00:00",className:L.input,type:"time"})),m.name&&(0,i.jsx)("p",{children:m.time.message})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("input",(0,A.Z)((0,A.Z)({},o("email")),{},{className:L.input,placeholder:"Email"})),m.email&&(0,i.jsx)("p",{children:m.email.message})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("input",(0,A.Z)((0,A.Z)({},o("message")),{},{placeholder:"Comment",className:L.input})),m.message&&(0,i.jsx)("p",{children:m.message.message})]}),(0,i.jsx)("button",{type:"submit",className:L.btn,children:"Send"})]})]})},T=function(e){var s=e.reviews,t=e.name,n=e.photo,a=(0,l.useState)(!1),r=(0,o.Z)(a,2),c=r[0],m=r[1];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("ul",{className:S.list,children:s.map((function(e,s){return(0,i.jsx)("li",{className:S.item,children:(0,i.jsx)(F,{review:e})},s)}))}),(0,i.jsx)("button",{type:"button",onClick:function(){m(!0)},className:S.btn,children:"Make an appointment"}),(0,i.jsx)(q,{modalIsOpen:c,closeModal:function(){m(!1)},name:t,photo:n})]})},E=function(e){var s=e.item,t=e.addToFaforites,n=e.authUser,a=(0,l.useState)(!1),r=(0,o.Z)(a,2),P=r[0],F=r[1];var S=(0,l.useState)(!1),A=(0,o.Z)(S,2),R=A[0],C=A[1];return(0,l.useEffect)((function(){if(n){var e=(JSON.parse(localStorage.getItem("favorites"))||[]).some((function(e){return e.name===s.name}));C(e)}}),[s.name,n]),(0,i.jsxs)("div",{className:m,children:[(0,i.jsxs)("div",{className:d,children:[(0,i.jsx)("img",{alt:s.name||"Psychologist",src:s.avatar_url,className:x}),(0,i.jsx)(c.Z,{iconName:"ball",styles:_,width:14,height:14})]}),(0,i.jsxs)("div",{className:h,children:[(0,i.jsxs)("div",{className:p,children:[(0,i.jsxs)("div",{className:u,children:[(0,i.jsx)("p",{className:g,children:"Psychologist"}),(0,i.jsx)("h2",{className:j,children:s.name})]}),(0,i.jsxs)("div",{className:v,children:[(0,i.jsxs)("p",{className:N,children:[(0,i.jsx)("span",{children:(0,i.jsx)(c.Z,{width:16,height:16,iconName:"star"})}),"Raiting: ".concat(s.rating)]}),(0,i.jsx)("p",{className:N,children:"Price/1hour: ".concat(s.price_per_hour,"$")}),(0,i.jsx)("button",{onClick:function(){t(s)},className:f,children:(0,i.jsx)(c.Z,{iconName:R?"favorite":"hart"})})]})]}),(0,i.jsxs)("ul",{className:y,children:[(0,i.jsxs)("li",{className:Z,children:[(0,i.jsx)("p",{children:"Experience: "}),(0,i.jsx)("span",{className:w,children:s.experience})]}),(0,i.jsxs)("li",{className:Z,children:[(0,i.jsx)("p",{children:"License: "}),(0,i.jsx)("span",{className:w,children:s.license})]}),(0,i.jsxs)("li",{className:Z,children:[(0,i.jsx)("p",{children:"Specialization: "}),(0,i.jsx)("span",{className:w,children:s.specialization})]}),(0,i.jsxs)("li",{className:Z,children:[(0,i.jsx)("p",{children:"Initial consultation: "}),(0,i.jsx)("span",{className:w,children:s.initial_consultation})]})]}),(0,i.jsx)("p",{className:b,children:s.about}),P?(0,i.jsx)(T,{reviews:s.reviews,name:s.name,photo:s.avatar_url}):(0,i.jsx)("button",{className:I,onClick:function(){F(!0)},children:"Read More"})]})]})},H="PsychologistList_list__RMZLg",W=function(e){var s=e.items,t=e.loadMore,a=e.loading,o=e.visible,l=e.addToFaforites,c=e.authUser;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("ul",{className:H,children:s.map((function(e){return e.psychologId,(0,i.jsx)("li",{children:(0,i.jsx)(E,{item:e,addToFaforites:l,authUser:c})},e.psychologId)}))}),a&&(0,i.jsx)(n.Z,{}),!a&&o&&(0,i.jsx)(r,{onLoadMore:t})]})}},5270:function(e,s,t){t.r(s),t.d(s,{default:function(){return N}});var n=t(3433),a=t(5861),i=t(9439),r=t(7757),o=t.n(r),l=t(2791),c=t(4817),m=t(3412),h=t(2685),p=t(5218),u="SortComponent_container__7+jhH",d="SortComponent_title__Ds+pM",_="SortComponent_select__OTSeW",x="SortComponent_option__cLVFc",g=t(184),j=function(e){var s=e.onFilterChange;return(0,g.jsxs)("div",{className:u,children:[(0,g.jsx)("label",{htmlFor:"sort",className:d,children:"Filters"}),(0,g.jsxs)("select",{id:"sort",onChange:function(e){s(e.target.value),console.log("event",e.target.value)},className:_,children:[(0,g.jsx)("option",{value:"A to Z",className:x,children:"A to Z"}),(0,g.jsx)("option",{value:"Z to A",className:x,children:"Z to A"}),(0,g.jsx)("option",{value:"Low to High",className:x,children:"Less than 10$"}),(0,g.jsx)("option",{value:"High to Low",className:x,children:"Greater than 10$"}),(0,g.jsx)("option",{value:"Low Rating",className:x,children:"Popular"}),(0,g.jsx)("option",{value:"High Rating",className:x,children:"Not popular"}),(0,g.jsx)("option",{value:"Show all",className:x,children:"Show all"})]})]})},v="Psychologists_page__tx2T1",N=function(e){var s=e.addToFaforites,t=e.authUser,r=(0,l.useState)([]),u=(0,i.Z)(r,2),d=u[0],_=u[1],x=(0,l.useState)(null),N=(0,i.Z)(x,2),f=N[0],y=N[1],Z=(0,l.useState)(!1),w=(0,i.Z)(Z,2),b=w[0],I=w[1],P=(0,l.useState)(!0),F=(0,i.Z)(P,2),S=F[0],A=F[1],R=(0,l.useState)(""),C=(0,i.Z)(R,2),L=C[0],k=C[1];var M=function(e,s){return"A to Z"===s?e.sort((function(e,s){return e.name.localeCompare(s.name)})):"Z to A"===s?e.sort((function(e,s){return s.name.localeCompare(e.name)})):"Low to High"===s?e.sort((function(e,s){return e.price_per_hour-s.price_per_hour})):"High to Low"===s?e.sort((function(e,s){return s.price_per_hour-e.price_per_hour})):"Low Rating"===s?e.sort((function(e,s){return e.rating-s.rating})):"High Rating"===s?e.sort((function(e,s){return s.rating-e.rating})):e}(d,L),U=function(){var e=(0,a.Z)(o().mark((function e(){var s,t,n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),e.prev=1,e.next=4,(0,h.U2)(m.$S);case 4:(s=e.sent).exists()?(t=s.val(),n=Array.isArray(t)?t:Object.values(t),_(n),a=n[n.length-1],y(a)):p.ZP.error("No data"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),p.ZP.error("Some went wrong");case 11:I(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){U()}),[]);var O=function(){var e=(0,a.Z)(o().mark((function e(){var s,t,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f&&!b){e.next=2;break}return e.abrupt("return");case 2:return I(!0),s=(0,m.EV)(f.psychologId),e.prev=4,e.next=7,(0,h.U2)(s);case 7:(t=e.sent).exists()?(a=t.val(),i=Array.isArray(a)?a:Object.values(a),console.log("current array",Object.values(a)),_((function(e){var s=i.filter((function(s){return!e.some((function(e){return e.psychologId===s.psychologId}))}));return[].concat((0,n.Z)(e),(0,n.Z)(s))})),y(i[i.length-1])):(A(!1),p.ZP.error("No data")),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),p.ZP.error("Some went wrong"),console.log(e.t0);case 15:I(!1);case 16:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}();return(0,g.jsxs)("div",{className:v,children:[(0,g.jsx)(j,{onFilterChange:function(e){k(e)}}),(0,g.jsx)(c.Z,{authUser:t,items:M,loadMore:O,loading:b,visible:S,addToFaforites:s})]})}}}]);
//# sourceMappingURL=270.cbd72f60.chunk.js.map