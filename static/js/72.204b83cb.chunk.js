"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[72],{4817:function(e,t,s){s.d(t,{Z:function(){return I}});var n=s(6276),a="LoadMoreBtn_btn__MyNek",i=s(184),r=function(e){var t=e.onLoadMore;return(0,i.jsx)("button",{className:a,onClick:t,children:"Load More"})},o=s(9439),l=s(2791),c=s(2830),m={container:"PsychologistItem_container__Nv+JY",content:"PsychologistItem_content__0zOA+",header:"PsychologistItem_header__F7QXE",imgwrap:"PsychologistItem_imgwrap__ckYyd",icon:"PsychologistItem_icon__9Dypw",img:"PsychologistItem_img__REg33",psychologist:"PsychologistItem_psychologist__hj5xy",name:"PsychologistItem_name__Sli-p",details:"PsychologistItem_details__I1JyX",add:"PsychologistItem_add__RFrEm",list:"PsychologistItem_list__+Kwtp",item:"PsychologistItem_item__eSO6x",text:"PsychologistItem_text__0Q1SR",btn:"PsychologistItem_btn__wMdmX"},h={title:"ReviewItem_title__xSOyY",avatar:"ReviewItem_avatar__Bs2Mx",name:"ReviewItem_name__v97ao",desc:"ReviewItem_desc__uU8aY"},p=function(e){var t=e.review,s=t.reviewer.toUpperCase().slice(0,1);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:h.title,children:[(0,i.jsx)("div",{className:h.avatar,children:(0,i.jsx)("p",{children:s})}),(0,i.jsxs)("div",{className:h.align,children:[(0,i.jsx)("p",{className:h.name,children:t.reviewer}),(0,i.jsxs)("p",{className:h.name,children:[(0,i.jsx)(c.Z,{iconName:"star",width:16,height:16}),t.rating]})]})]}),(0,i.jsx)("p",{className:h.desc,children:t.comment})]})},d={list:"ReviewsList_list__o8e+8",btn:"ReviewsList_btn__sQEAp"},u=s(1413),_=s(7948),x=s.n(_),g={form:"AppointmentForm_form__iHYqY",btnclose:"AppointmentForm_btnclose__VMslj",wrap:"AppointmentForm_wrap__mofDr",img:"AppointmentForm_img__bTkla",name:"AppointmentForm_name__b0qPF",text:"AppointmentForm_text__qRCSk",div:"AppointmentForm_div__567gZ",input:"AppointmentForm_input__tcipe",btn:"AppointmentForm_btn__Pip9K",psychologists:"AppointmentForm_psychologists__LitZ4","psychologists-name":"AppointmentForm_psychologists-name__Ysz1v"},j=s(887),v=s(4695),f=s(8007);x().setAppElement("#root");var N=f.Ry().shape({name:f.Z_().required("Name is required"),email:f.Z_().email("Invalid email").required("Email is required"),phone:f.Z_().required("Phone is required").matches(/^\+?[0-9\s-]*$/,"Please enter correct number"),message:f.Z_().optional(),time:f.Z_().required("Time is required")}),y=function(e){var t=e.name,s=e.photo,n=e.modalIsOpen,a=e.closeModal,r=(0,j.cI)({resolver:(0,v.X)(N)}),o=r.register,l=r.handleSubmit,m=r.formState.errors;return(0,i.jsxs)(x(),{isOpen:n,onRequestClose:a,style:{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",padding:"40px",maxWidth:"505px",borderRadius:"30px",position:"relative"}},children:[(0,i.jsxs)("div",{className:g.container,children:[(0,i.jsx)("h2",{className:g.name,children:"Make an appointment with a psychologists"}),(0,i.jsx)("p",{className:g.text,children:"You are on the verge of changing your life for the better. Fill out the short form below to book your personal appointment with a professional psychologist. We guarantee confidentiality and respect for your privacy."}),(0,i.jsx)("button",{onClick:a,className:g.btnclose,children:(0,i.jsx)(c.Z,{iconName:"close",width:26,height:26})})]}),(0,i.jsxs)("div",{className:g.wrap,children:[(0,i.jsx)("img",{src:s,alt:t,className:g.img}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:g.psychologists,children:"Your psychologists"}),(0,i.jsx)("p",{className:g.psychologists-t,children:t})]})]}),(0,i.jsxs)("form",{onSubmit:l((function(e){console.log(e),window.location.reload()})),className:g.form,children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("input",(0,u.Z)((0,u.Z)({},o("name")),{},{placeholder:"Name",className:g.input})),m.name&&(0,i.jsx)("p",{children:m.name.message})]}),(0,i.jsxs)("div",{className:g.div,children:[(0,i.jsx)("input",(0,u.Z)((0,u.Z)({},o("phone")),{},{placeholder:"+380",className:g.input})),m.name&&(0,i.jsx)("p",{children:m.phone.message}),(0,i.jsx)("input",(0,u.Z)((0,u.Z)({},o("time")),{},{placeholder:"00:00",className:g.input,type:"time"})),m.name&&(0,i.jsx)("p",{children:m.time.message})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("input",(0,u.Z)((0,u.Z)({},o("email")),{},{className:g.input,placeholder:"Email"})),m.email&&(0,i.jsx)("p",{children:m.email.message})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("input",(0,u.Z)((0,u.Z)({},o("message")),{},{placeholder:"Comment",className:g.input})),m.message&&(0,i.jsx)("p",{children:m.message.message})]}),(0,i.jsx)("button",{type:"submit",className:g.btn,children:"Send"})]})]})},w=function(e){var t=e.reviews,s=e.name,n=e.photo,a=(0,l.useState)(!1),r=(0,o.Z)(a,2),c=r[0],m=r[1];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("ul",{className:d.list,children:t.map((function(e,t){return(0,i.jsx)("li",{className:d.item,children:(0,i.jsx)(p,{review:e})},t)}))}),(0,i.jsx)("button",{type:"button",onClick:function(){m(!0)},className:d.btn,children:"Make an appointment"}),(0,i.jsx)(y,{modalIsOpen:c,closeModal:function(){m(!1)},name:s,photo:n})]})},Z=function(e){var t=e.item,s=e.addToFaforites,n=e.authUser,a=(0,l.useState)(!1),r=(0,o.Z)(a,2),h=r[0],p=r[1];var d=(0,l.useState)(!1),u=(0,o.Z)(d,2),_=u[0],x=u[1];return(0,l.useEffect)((function(){if(n){var e=(JSON.parse(localStorage.getItem("favorites"))||[]).some((function(e){return e.name===t.name}));x(e)}}),[t.name,n]),(0,i.jsxs)("div",{className:m.container,children:[(0,i.jsxs)("div",{className:m.imgwrap,children:[(0,i.jsx)("img",{alt:t.name||"Psychologist",src:t.avatar_url,className:m.img}),(0,i.jsx)(c.Z,{iconName:"ball",styles:m.icon,width:14,height:14})]}),(0,i.jsxs)("div",{className:m.content,children:[(0,i.jsxs)("div",{className:m.header,children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:m.psychologist,children:"Psychologist"}),(0,i.jsx)("h2",{className:m.name,children:t.name})]}),(0,i.jsxs)("div",{className:m.details,children:[(0,i.jsxs)("p",{className:m.reviews,children:[(0,i.jsx)(c.Z,{width:16,height:16,iconName:"star"}),"Raiting: ".concat(t.rating)]}),(0,i.jsx)("p",{className:m.reviews,children:"Price/1hour: ".concat(t.price_per_hour,"$")}),(0,i.jsx)("button",{onClick:function(){s(t)},className:m.add,children:(0,i.jsx)(c.Z,{iconName:_?"favorite":"hart"})})]})]}),(0,i.jsxs)("ul",{className:m.list,children:[(0,i.jsxs)("li",{className:m.item,children:[(0,i.jsx)("p",{children:"Experience: "}),(0,i.jsx)("span",{children:t.experience})]}),(0,i.jsxs)("li",{className:m.item,children:[(0,i.jsx)("p",{children:"License: "}),(0,i.jsx)("span",{children:t.license})]}),(0,i.jsxs)("li",{className:m.item,children:[(0,i.jsx)("p",{children:"Specialization: "}),(0,i.jsx)("span",{children:t.specialization})]}),(0,i.jsxs)("li",{className:m.item,children:[(0,i.jsx)("p",{children:"Initial consultation: "}),(0,i.jsx)("span",{children:t.initial_consultation})]})]}),(0,i.jsx)("p",{className:m.text,children:t.about}),h?(0,i.jsx)(w,{reviews:t.reviews,name:t.name,photo:t.avatar_url}):(0,i.jsx)("button",{className:m.btn,onClick:function(){p(!0)},children:"Read More"})]})]})},b="PsychologistList_list__+petu",I=function(e){var t=e.items,s=e.loadMore,a=e.loading,o=e.visible,l=e.addToFaforites,c=e.authUser;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("ul",{className:b,children:t.map((function(e){return e.psychologId,(0,i.jsx)("li",{children:(0,i.jsx)(Z,{item:e,addToFaforites:l,authUser:c})},e.psychologId)}))}),a&&(0,i.jsx)(n.Z,{}),!a&&o&&(0,i.jsx)(r,{onLoadMore:s})]})}},8072:function(e,t,s){s.r(t),s.d(t,{default:function(){return v}});var n=s(3433),a=s(5861),i=s(9439),r=s(7757),o=s.n(r),l=s(2791),c=s(4817),m=s(3412),h=s(2685),p=s(5218),d="SortComponent_container__PI3q2",u="SortComponent_title__s2Kpx",_="SortComponent_select__ZQkxK",x="SortComponent_option__GIjup",g=s(184),j=function(e){var t=e.onFilterChange;return(0,g.jsxs)("div",{className:d,children:[(0,g.jsx)("label",{htmlFor:"sort",className:u,children:"Filters"}),(0,g.jsxs)("select",{id:"sort",onChange:function(e){t(e.target.value),console.log("event",e.target.value)},className:_,children:[(0,g.jsx)("option",{value:"A to Z",className:x,children:"A to Z"}),(0,g.jsx)("option",{value:"Z to A",className:x,children:"Z to A"}),(0,g.jsx)("option",{value:"Low to High",className:x,children:"Less than 10$"}),(0,g.jsx)("option",{value:"High to Low",className:x,children:"Greater than 10$"}),(0,g.jsx)("option",{value:"Low Rating",className:x,children:"Popular"}),(0,g.jsx)("option",{value:"High Rating",className:x,children:"Not popular"}),(0,g.jsx)("option",{value:"Show all",className:x,children:"Show all"})]})]})},v=function(e){var t=e.addToFaforites,s=e.authUser,r=(0,l.useState)([]),d=(0,i.Z)(r,2),u=d[0],_=d[1],x=(0,l.useState)(null),v=(0,i.Z)(x,2),f=v[0],N=v[1],y=(0,l.useState)(!1),w=(0,i.Z)(y,2),Z=w[0],b=w[1],I=(0,l.useState)(!0),S=(0,i.Z)(I,2),F=S[0],P=S[1],k=(0,l.useState)(""),A=(0,i.Z)(k,2),C=A[0],R=A[1];var L=function(e,t){return"A to Z"===t?e.sort((function(e,t){return e.name.localeCompare(t.name)})):"Z to A"===t?e.sort((function(e,t){return t.name.localeCompare(e.name)})):"Low to High"===t?e.sort((function(e,t){return e.price_per_hour-t.price_per_hour})):"High to Low"===t?e.sort((function(e,t){return t.price_per_hour-e.price_per_hour})):"Low Rating"===t?e.sort((function(e,t){return e.rating-t.rating})):"High Rating"===t?e.sort((function(e,t){return t.rating-e.rating})):e}(u,C),M=function(){var e=(0,a.Z)(o().mark((function e(){var t,s,n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,e.next=4,(0,h.U2)(m.$S);case 4:(t=e.sent).exists()?(s=t.val(),n=Array.isArray(s)?s:Object.values(s),_(n),a=n[n.length-1],N(a)):p.ZP.error("No data"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),p.ZP.error("Some went wrong");case 11:b(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){M()}),[]);var q=function(){var e=(0,a.Z)(o().mark((function e(){var t,s,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f&&!Z){e.next=2;break}return e.abrupt("return");case 2:return b(!0),t=(0,m.EV)(f.psychologId),e.prev=4,e.next=7,(0,h.U2)(t);case 7:(s=e.sent).exists()?(a=s.val(),i=Array.isArray(a)?a:Object.values(a),console.log("current array",Object.values(a)),_((function(e){var t=i.filter((function(t){return!e.some((function(e){return e.psychologId===t.psychologId}))}));return[].concat((0,n.Z)(e),(0,n.Z)(t))})),N(i[i.length-1])):(P(!1),p.ZP.error("No data")),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),p.ZP.error("Some went wrong"),console.log(e.t0);case 15:b(!1);case 16:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(j,{onFilterChange:function(e){R(e)}}),(0,g.jsx)(c.Z,{authUser:s,items:L,loadMore:q,loading:Z,visible:F,addToFaforites:t})]})}}}]);
//# sourceMappingURL=72.204b83cb.chunk.js.map